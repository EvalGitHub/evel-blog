(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{552:function(n,t,e){"use strict";e.r(t);var r=e(28),a=Object(r.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"用js实现ease-out的置顶滚动效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用js实现ease-out的置顶滚动效果"}},[n._v("#")]),n._v(" 用js实现ease-out的置顶滚动效果")]),n._v(" "),e("p",[n._v("文档置定可以使用document.scrollingElement.scrollTop = 0 来实现")]),n._v(" "),e("p",[n._v("但是如果直接这么写很显然是没有这种ease-out的动画效果了（先快后慢）")]),n._v(" "),e("ul",[e("li",[n._v("ease-out的效果实现构思")])]),n._v(" "),e("p",[n._v("如果能每次滑动剩余距离的一半，就能实现先快后慢的效果了")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("var curPos = curPos + (curPos - targetPos) / 2;\n")])])]),e("ul",[e("li",[n._v("怎么样实现连续执行滚动了")])]),n._v(" "),e("p",[n._v("使用requestAnimation")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("window.requestAnimationFrame = function() {\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function(callback) {\n      setTimeout(callback, 17) // 60HZ ，16.7ms执行一次\n    }\n  }\n}\nfunction topAction(scrollEl, curPos, targetPos, rate, callback) {\n  var topFun = () = > {\n    curPos = curPos + (targetPos - curPos) / rate;\n    if (curPos <= 1) {\n      scrollEl.scrollTop = curPos;\n      callback && callback();\n      return;\n    }\n    scrollEl.scrollTop = curPos;\n    requestAnimationFrame(topFun);\n  }\n  topFun();\n}\ntopAction(\n  document.scrollingElement, \n  document.scrollingElement.scrollTop, \n  0, 2,\n  function () {\n    alert('已经到顶部了！！！');\n  }\n);\n")])])]),e("p",[e("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2017/01/share-a-animation-algorithm-js/",target:"_blank",rel:"noopener noreferrer"}},[n._v("即插即用的私藏缓动动画JS小算法"),e("OutboundLink")],1),n._v(" "),e("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2016/12/how-use-tween-js-animation-easing/",target:"_blank",rel:"noopener noreferrer"}},[n._v("如何使用Tween.js各类原生动画运动缓动算法"),e("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);