(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{597:function(e,r,s){"use strict";s.r(r);var t=s(28),a=Object(t.a)({},(function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"rollup入门教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rollup入门教程"}},[e._v("#")]),e._v(" rollup入门教程")]),e._v(" "),s("h2",{attrs:{id:"rollup-config-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rollup-config-js"}},[e._v("#")]),e._v(" rollup.config.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('import resolve from "@rollup/plugin-node-resolve";\nimport commonjs from "@rollup/plugin-commonjs";\nimport babel from "@rollup/plugin-babel";\nimport json from "@rollup/plugin-json";\n\nexport default {\n    input: [\'./src/index.js\'],\n    output: {\n        file: \'./dist/bundle.js\',\n        format: \'umd\',\n        name: \'experience\'\n    },\n    plugins: [resolve(), commonjs(), babel(), json()],\n    external: ["the-answer"],\n\n}\n')])])]),s("h3",{attrs:{id:"为什么要使用resolve插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用resolve插件"}},[e._v("#")]),e._v(" 为什么要使用resolve插件")]),e._v(" "),s("blockquote",[s("p",[e._v("@rollup/plugin-node-resolve")])]),e._v(" "),s("p",[e._v("在上面的入门案例中，我们打包的对象是本地的js代码和库，但实际开发中，不太可能所有的库都位于本地，我们大多会通过npm下载远程的库。\n与webpack和browserify这样的其他捆绑包不同，rollup不知道如何打破常规去处理这些依赖。因此我们需要添加一些配置。")]),e._v(" "),s("h3",{attrs:{id:"关于external"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于external"}},[e._v("#")]),e._v(" 关于external")]),e._v(" "),s("p",[e._v("虽然我们使用了resolve插件，但可能我们仍然想要某些库保持外部引用状态，这时我们就需要使用external属性，来告诉rollup.js哪些是外部的类库")]),e._v(" "),s("h3",{attrs:{id:"关于commonjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于commonjs"}},[e._v("#")]),e._v(" 关于commonJS")]),e._v(" "),s("p",[e._v("rollup.js编译源码中的模块引用默认只支持 ES6+的模块方式import/export。然而大量的npm模块是基于CommonJS模块方式，这就导致了大量 npm模块不能直接编译使用")]),e._v(" "),s("h2",{attrs:{id:"package-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[e._v("#")]),e._v(" package.json")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(' "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "build": "rollup -c -w"\n  },\n')])])]),s("h2",{attrs:{id:"babelrc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babelrc"}},[e._v("#")]),e._v(" .babelrc")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('{\n    "presets": [\n      [\n        "@babel/preset-env",\n        {\n          "modules": false,\n          // "useBuiltIns": "usage"\n        }\n      ]\n    ]\n}\n')])])]),s("p",[e._v("参考："),s("a",{attrs:{href:"https://mp.weixin.qq.com/s/S-WgcO9aFrYp2tvnMMsRPg",target:"_blank",rel:"noopener noreferrer"}},[e._v("一文带你快速上手 Rollup"),s("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=a.exports}}]);