# 协议分层

协议只是约定，使得不同的网络，不同的设备能够进行通信

**分层目的**

使得复杂的网络协议变得简单化，每个分层都为它的上层，下层提供特定的服务；分层使得每个分层都可以单独使用
，即使系统中的某些分层发生了变化，也不会影响整个系统。但是问题是使得每个模块都要实现相似的处理逻辑。

## OSI的参考模型（7个分层）

- 应用层
- 表示层
- 会话层
- 传输层
- 网络层
- 数据链路层
- 物理层

对各层的作用做了粗略界定，并未对协议和接口进行详细定义


### 各层的作用

- 应用层(7)
为应用程序提供服务并规定应用程序中通信相关细节（电子邮件->电子邮件协议，文件传输->文件传输协议）

- 表示层(6)
将应用处理信息的数据格式转化为网络标准格式（不同设备对同一比特流解释的结果可能会不同，因此表示层
需要使他们保持一致）

- 会话层(5)
负责建立、断开通信连接，以及数据的分割，标记数据发送顺序

- 传输层(4)
起着可靠传输的作用，如果数据没有到达则会重新发送（只在通信双方的节点上进行处理，无需再路由上处理）

**TCP与UDP的区别？**

TCP是一种可靠传输，实行“顺序控制”，“重发控制”，“流量控制”，“拥塞控制”
UPD主要用于高速传输和实时性有较高要求的通信广播

- 网络层(3)
将数据传输到目标地址（根据ip查找），主要负责寻址和路由选择

>主机：配制ip地址，但不能进行路由控制的设备；即有路由控制能力也能有ip地址称之为路由器；节点是他们的统称。


- 数据链路层(2)
负责物理层上传输介质互联设备之间进行数据处理，(数据链路层使用mac地址识别互联的节点)
将0,1序列划分为有意义的**数据帧**发送给对端

>数据链路层提供**直连两个设备之间**的通信功能，网络层负责没有直连的两个网络之间的通信

- 物理层(1)
将数据的0，1转化为电压和脉冲光传输给物理的传输介质，
而相连的设备之间使用地址实现传输，这种地址称为MAC地址（物理地址，硬件地址）


## 为什么需要分组交换？

一条线路上链接了多台计算机，而这些计算机之间又相互通信，就会发生线路占用的问题，为此数据分组之后所有计算机都可以同时发送数据（因为每个分组的首部都写入了发送端和接收端的地址）