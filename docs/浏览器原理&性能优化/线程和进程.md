
# 线程与进程

- 进程
操作系统进行资源分配的和调度独立单位，一般包括：程序代码，数据集合，进程控制块
  - 程序代码
  程序用于描述进程要完成的功能
  - 数据集合
  程序在执行时所需要的数据和工作区
  - 进程控制块
  包含进程的描述信息和控制信息是进程存在的唯一标志

>在早期的操作系统中并没有线程的概念，进程是拥有资源和独立运行的最小单位，也是程序执行的最小单位。
任务调度采用的是时间片轮转的抢占式调度方式，而进程是任务调度的最小单位，每个进程有各自独立的一块内存，
使得各个进程之间内存地址相互隔离。随着计算机的发展，对CPU的要求越来越高，进程之间的切换开销较大，已经无法满足越来越复杂的程序的要求了。
于是就发明了线程，线程是程序执行中一个单一的顺序控制流程，是程序执行流的最小单元。

**一个进程可以有一个或多个线程，各个线程之间共享程序的内存空间(也就是所在进程的内存空间)**

- 线程

最小的程序执行单位

## 线程与进程的不同

1. 线程是程序执行的最小单位，而进程是操作系统分配资源的最小单位

2. 一个进程由一个或多个线程组成，线程是一个进程中代码的不同执行路线

3. 进程之间相互独立，但同一进程下的各个线程之间共享程序的内存空间(包括代码段，数据集，堆等)及一些进程级的资源(如打开文件和信号等)，某进程内的线程在其他进程不可见

4. 调度和切换：线程上下文切换比进程上下文切换要快得多

## 为何不使用多进程而是使用多线程？

线程廉价，线程启动比较快，退出比较快，对系统资源的冲击也比较小

## 线程，进程之间的资源分配

统一由cpu进行分配

## js为什么是单线程，而其他语言不是

js操作与用户视觉密切相关，因为可以操作dom，改变网页展示效果，如果同时存在两个线程对一个元素节点的更改（一个对其进行删除，一个进行更新），会出现很复杂的同步问题。
即使h5推出的web worker也不能进行dom操作，本质上并没有改变单线程。

单线程意味着，所有的任务都需要排队执行；但是这个时候如果一些任务执行时间比较缓慢，cpu已处于空闲，例如setTimeout/setImterval，promise.then等
会阻塞程序执行，所以js又提出了异步任务队列，事件轮训的概念。


[进程和线程的区别和联系](https://blog.csdn.net/weixin_43258908/article/details/89417917?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.nonecase)